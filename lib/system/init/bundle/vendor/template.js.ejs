define(<%- name -%>, null, <%- root -%>, function () {
  (function (module, vendor) {
    var proxy, name, single, count = 0;

    // Fake window object to expose to a vendor JS code.
    function FakeWindow() {}
    FakeWindow.prototype = window;

    proxy = new FakeWindow();

    vendor.call(proxy, proxy);

    for (name in proxy) {
      if (Object.prototype.hasOwnPropetry.call(proxy, name)) {
        module.exports[name] = single = proxy[name];
        count += 1;
      }
    }

    if (1 === count) {
      module.exports = single;
    }
  })(arguments[0], function (window) { <%- source -%> });
});
