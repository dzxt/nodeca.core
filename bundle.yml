bundles:
  frontend:
    - lib
    - core
    - common

  backend:
    - lib
    - core
    - admin


packages:
  admin:
    client:
      root:       "./client/admin"
      include:    "*.js"
      exclude:    "/(^|\\/)_.*/"

    #views:
    #  root:       "./client/admin"
    #  include:    "*.jade"
    #  exclude:    "/(^|\\/)_.*/"

    views:
      root:       "./views/desktop/admin"
      include:    "*.jade"
      exclude:    "/(^|\\/)_.*/"

    i18n_client:
      root:       "./client/admin"
      include:    "i18n/*.yml"

    #styles:
    #  root:       "./client/admin"
    #  main:       "app.styl"
    #  include:    "*.styl"

    styles:
      root:       "./assets"
      main:       "desktop/admin/app.styl"
      include:    "desktop/admin/**.styl"

    server:
      root:       "./server/admin"
      include:    "*.js"
      exclude:    "/(^|\\/)_.*/"

    i18n_server:
      root:       "./server/admin"
      include:    "i18n/*.yml"


  common:
    client:
      root:       "./client/common"
      include:    "*.js"
      exclude:    "/(^|\\/)_.*/"

    #views:
    #  root:       "./client/common"
    #  include:    "*.jade"
    #  exclude:    "/(^|\\/)_.*/"

    views:
      root:       "./views/desktop/common"
      include:    "*.jade"
      exclude:    "/(^|\\/)_.*/"

    i18n_client:
      root:       "./client/common"
      include:    "i18n/*.yml"

    styles:
      root:       "./assets"
      main:       "desktop/common/app.styl"
      include:    "desktop/common/**.styl"

    #styles:
    #  root:       "./client/common"
    #  main:       "app.styl"
    #  include:    "*.styl"

    server:
      root:       "./server/common"
      include:    "*.js"
      exclude:    "/(^|\\/)_.*/"

    i18n_server:
      root:       "./server/common"
      include:    "i18n/*.yml"


  core:
    server:
      root:       "./server"
      include:    "/^(assets|static)\\.js$/"
      apiPrefix:  ~

    views:
      root:       "./views/desktop/layouts"
      include:    "*.jade"
      exclude:    "/(^|\\/)_.*/"
      apiPrefix:  "layouts"


  lib:
    bin:
      root:       "./assets"
      include:
        - javascripts/lib.js
        - javascripts/loader.js.ejs
