bundles:
  lib:
    - lib

  frontend:
    - common

  backend:
    - admin


packages:
  admin:
    depends:
      - lib

    client:
      root: client/admin
      include: '*.js'
      exclude: '/(^|\/|\\)_.*/'

    views:
      root: client/admin
      include: '*.jade'
      exclude: '/(^|\/|\\)_.*/'

    i18n_client:
      root: client/admin
      include: 'i18n/*.yml'

    styles:
      main: assets/desktop/admin/app.styl
      include: 'client/admin/**.styl'
      exclude: '/(^|\/|\\)_.*/'

    server:
      root: server/admin
      include: '*.js'
      exclude: '/(^|\/|\\)_.*/'

    i18n_server:
      root: server/admin
      include: 'i18n/*.yml'


  common:
    depends:
      - lib

    client:
      root: client/common
      include: '*.js'
      exclude: '/(^|\/|\\)_.*/'

    views:
      root: client/common
      include: '*.jade'
      exclude: '/(^|\/|\\)_.*/'

    i18n_client:
      root: client/common
      include: 'i18n/*.yml'

    styles:
      main: assets/desktop/common/app.styl
      include: 'client/common/**.styl'
      exclude: '/(^|\/|\\)_.*/'

    server:
      root: server/common
      include: '*.js'
      exclude: '/(^|\/|\\)_.*/'

    i18n_server:
      root: server/common
      include: 'i18n/*.yml'


  lib:
    vendor:
      - lodash

    client:
      root: client/lib
      main: n.js.ejs
      include: '**.js'
      exclude: '/(^|\/|\\)_.*/'

    bin:
      root: assets
      include:
        - javascripts/loader.js.ejs
        - vendor/es5-shim.js
        - vendor/json2.js
        - '**.woff'
        - '**.eot'
        - '**.tff'
        - '**.svg'
        - '**.png'
        - '**.jpg'
        - '**.jpeg'
        - '**.gif'
