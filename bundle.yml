bundles:
  lib:
    - lib

  frontend:
    - common

  backend:
    - admin


packages:
  admin:
    depends:
      - lib

    client:
      include: client/admin/**.js
      exclude: /(^|\/|\\)_.*/

    views:
      include: client/admin/**.jade
      exclude: /(^|\/|\\)_.*/

    i18n_client:
      include: client/admin/**i18n/*.yml

    styles:
      main: client/admin/system/main.styl
      include: client/admin/**.styl
      exclude: /(^|\/|\\)_.*/

    server:
      include: server/admin/**.js
      exclude: /(^|\/|\\)_.*/

    i18n_server:
      include: server/admin/**i18n/*.yml


  common:
    depends:
      - lib

    client:
      include: client/common/**.js
      exclude: /(^|\/|\\)_.*/

    views:
      include: client/common/**.jade
      exclude: /(^|\/|\\)_.*/

    i18n_client:
      include: client/common/**i18n/*.yml

    styles:
      main: client/common/system/main.styl
      include: client/common/**.styl
      exclude: /(^|\/|\\)_.*/

    server:
      include: server/common/**.js
      exclude: /(^|\/|\\)_.*/

    i18n_server:
      include: server/common/**i18n/*.yml


  lib:
    vendor:
      - lodash
      - knockout

    client:
      main: client/lib/system/n.js.ejs
      include: client/lib/**.js
      exclude: /(^|\/|\\)_.*/

    styles:
      include: client/lib/**.styl
      exclude: /(^|\/|\\)_.*/

    bin:
      root: assets
      include:
        - loader.js.ejs
        - vendor/es5-shim/es5-shim.js
        - vendor/json2/json2.js
        - '**.woff'
        - '**.eot'
        - '**.ttf'
        - '**.svg'
