@import "codemirror/lib/codemirror.css"
@import "nodeca.core/client/common/_variables"

.mdedit
  min-height 200px
  height 300px
  position fixed
  bottom -250px
  left 0px
  right 0px
  padding 0px 15px
  background-color grayLightest
  box-shadow 0 0 20px grayLight
  display flex
  flex-direction column
  z-index 1040
  transition height 0.2s ease

  .CodeMirror
    // height before init to avoid bugs in FF with real size calc
    height 1px
    font-size 14px
    font-family monoFontFamily

.mdedit__resizer
  cursor row-resize
  position absolute
  top -6px
  left 50%
  margin-left -20px
  width 40px
  height 21px

  &:before
  &:after
    content ' '
    width 100%
    height 1px
    background-color grayLighter
    position absolute
    top 9px
  &:after
    top 11px

.mdedit-header
  margin 5px 0
.mdedit-header__caption
  margin-right 30px
  shortable()

.mdedit__body
  display flex
  flex-direction row
  flex 2
  overflow hidden

.mdedit__editor
  display flex
  flex-direction column
  flex 2
  flex-basis 50%
  background-color #fff
  border 1px solid grayLighter
  border-radius 4px
  overflow hidden

.mdedit__toolbar
  padding 5px
  font-size 16px
  border-bottom 1px solid grayLightest
  overflow-x auto
  white-space nowrap

.mdedit__edit-area
  flex 2
  flex-basis 50%
  border-radius 0 0 4px 4px
  overflow hidden

.mdedit-attachments
  flex-basis 90px
  overflow-y auto
  list-style none
  padding 0
  margin 0 0 0 5px

.mdedit-attachments__item
  position relative
  width 100%
  margin 5px 0
  &:first-child
    margin-top 0
  &:last-child
    margin-bottom 0

.mdedit-attachments__item-image
  width 100%
  border-radius 2px

.mdedit-attachments__item-content
  height 67px
  line-height 67px
  border-radius 2px
  background-color #fbfbfb
  padding 0 5px
  text-align center
  shortable()

.mdedit__preview
  flex 2
  flex-basis 50%
  font-family sansWideFontFamily
  border 1px dashed grayLighter
  padding 10px 10px
  border-radius 4px
  background-color #fff
  overflow-y: auto
  margin-left 5px

  .medialink-video__m-stub
    background grayLightest
    border-radius 4px

  @media (max-width: screenSm - 1)
    display none

.mdedit-footer
  margin 5px 0

.mdedit.mdedit__m-no-attachments
  .mdedit-attachments
    display none

.mdedit.mdedit__m-active
  border 1px dashed grayLight

.mdedit-attachments__item-remove
  position absolute
  top 1px
  right 1px
  opacity .7
  transition opacity .2s ease

.mdedit-toolbar
  border-bottom 1px solid grayLightest
  padding 5px
  font-size 18px

.mdedit-toolbar__item
  text-align center
  display inline-block
  vertical-align middle
  cursor pointer
  width 1.7em
  height 1.5em
  line-height 1.5em
  border none
  background none
  padding 0
  border-radius 4px
  color gray
  transition .2s ease
  &:hover
    background-color grayLightest
    color grayDark

    .mdedit-attachments__item-remove
      opacity 1

.mdedit-toolbar__sep
  width 1px
  height 1.2em
  background grayLighter
  cursor auto
  margin 0 .4em

.mdedit__collapser
  position absolute
  top 0
  right 0px
  width 30px
  height 30px
  line-height 30px
  text-align center
  cursor pointer

.mdedit__collapser .icon-collapse
  display none

.mdedit.mdedit__m-collapsed
  height 30px !important;
  .mdedit__resizer
  .mdedit__body
  .mdedit-footer
  .mdedit-header__addon
    display none
  .mdedit__collapser
    .icon-expand
      display none
    .icon-collapse
      display block

// Avoid lags
.mdedit.mdedit__m-resizing
  transition none
